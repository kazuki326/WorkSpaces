<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkSpace3: LINE注文機能</title>
    <link rel="stylesheet" href="../common_style.css">
    <script src="../workspace-nav.js"></script>
</head>
<body>
    <header>
        <h1>WorkSpace3: LINE注文機能</h1>
        <p>LINEアプリから商品を注文できる機能に関するワークスペースです。</p>
    </header>

    <main class="container">
        <section class="my-page-section">
            <h2>プロジェクト概要</h2>
            <p>
                公式LINEアカウントにチャットボットを導入し、ユーザーがLINE上で商品を検索し、<code>bier.jp</code>の買い物かごに直接商品を追加できる仕組みを構築します。これにより、ユーザー体験の向上と売上増加を目指します。
            </p>
        </section>

        <section class="my-page-section">
            <h2>アーキテクチャ</h2>
            <p>本プロジェクトは、LINE、Google Apps Script、そして<code>bier.jp</code>のサーバーサイドAPIを連携させることで実現します。</p>
            <div class="code-block-container">
                <pre><code>LINE User  &lt;--&gt;  LINE Chatbot (Google Apps Script)  --&gt;  bier.jp Add-to-Cart API  --&gt;  User's localStorage</code></pre>
            </div>
            <ol>
                <li>ユーザーがLINEチャットボットと対話し、おすすめされた商品の「かごに追加」ボタンを押します。</li>
                <li>チャットボットは、<code>bier.jp</code>ドメイン上に設置されたAPIを呼び出すURLを生成します。</li>
                <li>ユーザーがそのURLにアクセスすると、APIが<code>bier.jp</code>サイトの<code>localStorage</code>に商品情報を追加します。</li>
                <li>最終的な決済は、ユーザーが<code>bier.jp</code>の買い物かごページに遷移して行います。</li>
            </ol>
        </section>

        <section class="my-page-section">
            <h2>デザインとプレビュー</h2>
            <p>LINE上でユーザーに表示されるUIコンポーネントの設計とプレビューです。</p>
            <ul>
                <li>
                    <strong>商品カード (Flex Message)</strong>:
                    チャットボットが商品を提示する際に使用するリッチなカードです。
                    [<a href="preview/product_card_preview.html" class="modal-link">プレビュー</a>]
                    [<a href="design/product-card.json">JSON定義</a>]
                </li>
                <li>
                    <strong>リッチメニュー</strong>:
                    トーク画面下部に常時表示されるメニューです。
                    [<a href="preview/rich_menu_preview.html" class="modal-link">プレビュー</a>]
                    [<a href="design/rich-menu.json">JSON定義</a>]
                </li>
            </ul>
        </section>

        <section class="my-page-section">
            <h2>技術仕様とドキュメント</h2>
            <p>本プロジェクトの技術的な詳細をまとめたドキュメントです。</p>
            <ul>
                <li><a href="README.md">総合README</a>: プロジェクト全体の目標、アーキテクチャ、課題の概要。</li>
                <li><a href="docs/api-design.md">買い物かご追加API設計書</a>: <code>bier.jp</code>側に実装するAPIの詳細な仕様。</li>
                <li><a href="docs/line-integration-plan.md">LINE連携機能 設計プラン</a>: アカウント連携やリッチメニュー、Flex Messageに関する設計。</li>
                <li><a href="docs/third-party-services.md">サードパーティ製サービス調査</a>: L Message等の外部サービスを調査し、自前実装に至った経緯。</li>
            </ul>
        </section>

        <section class="my-page-section">
            <h2>ソースコード</h2>
            <p>実装された、または実装予定のソースコードです。</p>
            <ul>
                <li><a href="src/gas/"><code>src/gas/</code></a>: LINEチャットボットのロジックを担うGoogle Apps Scriptのコード群。</li>
                <li><a href="src/bier-jp-api/"><code>src/bier-jp-api/</code></a>: 買い物かご追加APIを担うNode.js (Express) サーバーのコード。</li>
            </ul>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 bier.jp WorkSpaces</p>
    </footer>
    <script src="../modal.js" defer></script>
</body>
</html>