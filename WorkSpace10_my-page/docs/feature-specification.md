# bier.jp マイページ機能仕様書

## 概要

マイページは、bier.jpユーザー向けのパーソナライズされたダッシュボード機能です。ユーザーのビール体験を記録・管理し、コミュニティとの繋がりを深めるための中心的なハブとして機能します。

---

## セクション別機能詳細

### 1. ダッシュボード

#### 機能概要
ユーザーのアクティビティサマリーと最新情報を一目で確認できるホーム画面。

#### 主要機能
- **アクティビティサマリー**: 今月のテイスティング数、購入金額、獲得ポイント
- **最近のテイスティング**: 直近5件のテイスティングノートのサムネイル表示
- **おすすめビール**: ユーザーの好みに基づいたレコメンデーション
- **通知バッジ**: 未読メッセージ、新着レビューへのコメント数

#### ユーザーストーリー
| ID | ユーザーストーリー | 優先度 |
|----|-------------------|--------|
| D-01 | ユーザーとして、ログイン後すぐに自分のアクティビティ概要を確認したい | 高 |
| D-02 | ユーザーとして、おすすめビールを見てすぐに購入ページへ移動したい | 中 |
| D-03 | ユーザーとして、未読通知の数をダッシュボードで確認したい | 高 |

---

### 2. テイスティングノート

#### 機能概要
ビールのテイスティング記録を作成・管理・共有するためのセクション。

#### 主要機能
- **ノート作成**: ビール名、ブルワリー、スタイル、評価（5段階）、フレーバープロファイル、コメント
- **ノート一覧**: グリッド/リスト表示切替、ソート（日付順、評価順、ビール名順）
- **検索・フィルター**: スタイル別、評価別、期間別のフィルタリング
- **共有機能**: SNS共有、コミュニティへの公開設定
- **画像アップロード**: ビールの写真を最大5枚まで添付

#### データ構造
```
TastingNote {
  id: string
  userId: string
  beerName: string
  brewery: string
  style: string
  rating: number (1-5)
  appearance: string
  aroma: string
  taste: string
  mouthfeel: string
  overall: string
  photos: string[]
  isPublic: boolean
  createdAt: timestamp
  updatedAt: timestamp
}
```

#### ユーザーストーリー
| ID | ユーザーストーリー | 優先度 |
|----|-------------------|--------|
| T-01 | ユーザーとして、飲んだビールの感想をすぐに記録したい | 高 |
| T-02 | ユーザーとして、過去のテイスティングノートを検索したい | 高 |
| T-03 | ユーザーとして、テイスティングノートを友人に共有したい | 中 |
| T-04 | ユーザーとして、ビールの写真を記録に残したい | 中 |
| T-05 | ユーザーとして、同じビールの過去の評価と比較したい | 低 |

---

### 3. 購入関連

#### 機能概要
購入履歴の確認、注文状況の追跡、再購入機能を提供。

#### 主要機能
- **購入履歴**: 過去の購入一覧（日付、商品名、金額、ステータス）
- **注文詳細**: 個別注文の詳細表示（配送状況、請求明細）
- **再購入**: ワンクリックで過去の注文を再度カートに追加
- **領収書発行**: PDF形式での領収書ダウンロード
- **定期購入管理**: サブスクリプションの設定・変更・解約

#### ユーザーストーリー
| ID | ユーザーストーリー | 優先度 |
|----|-------------------|--------|
| P-01 | ユーザーとして、過去の購入履歴を確認したい | 高 |
| P-02 | ユーザーとして、注文した商品の配送状況を追跡したい | 高 |
| P-03 | ユーザーとして、気に入ったビールを簡単に再購入したい | 中 |
| P-04 | ユーザーとして、経費精算用の領収書を発行したい | 中 |
| P-05 | ユーザーとして、定期購入の内容を変更したい | 低 |

---

### 4. エンゲージメント

#### 機能概要
コミュニティ活動、ポイント・バッジの管理、イベント参加状況を表示。

#### 主要機能
- **ポイント残高**: 現在のポイント残高と有効期限
- **ポイント履歴**: ポイント獲得・使用の履歴
- **バッジコレクション**: 獲得したバッジ一覧と次のバッジまでの進捗
- **レビュー統計**: 投稿したレビュー数、いいね数、参考になった数
- **イベント参加履歴**: 過去に参加したテイスティングイベント
- **フォロー/フォロワー**: フォロー中のユーザー、ブルワリー一覧

#### バッジシステム
| バッジ名 | 獲得条件 |
|---------|---------|
| 初心者テイスター | 初めてのテイスティングノート投稿 |
| ビール愛好家 | テイスティングノート50件達成 |
| スタイルマスター | 20種類以上のスタイルを体験 |
| コミュニティリーダー | レビューへのいいね100件獲得 |
| イベント常連 | イベント10回参加 |

#### ユーザーストーリー
| ID | ユーザーストーリー | 優先度 |
|----|-------------------|--------|
| E-01 | ユーザーとして、自分のポイント残高を確認したい | 高 |
| E-02 | ユーザーとして、獲得したバッジを見て達成感を感じたい | 中 |
| E-03 | ユーザーとして、次のバッジまでの進捗を確認したい | 中 |
| E-04 | ユーザーとして、フォローしているブルワリーの新着情報を知りたい | 中 |

---

### 5. アカウント管理

#### 機能概要
プロフィール編集、セキュリティ設定、プライバシー管理を行うセクション。

#### 主要機能
- **プロフィール編集**: ユーザー名、アバター、自己紹介、好みのビールスタイル
- **メールアドレス変更**: メール認証付きのアドレス変更
- **パスワード変更**: 現在のパスワード確認＋新パスワード設定
- **二要素認証**: TOTP/SMS認証の設定
- **プライバシー設定**: プロフィール公開範囲、テイスティングノートのデフォルト公開設定
- **通知設定**: メール通知、プッシュ通知の項目別オン/オフ
- **連携アカウント**: SNSアカウントとの連携管理

#### ユーザーストーリー
| ID | ユーザーストーリー | 優先度 |
|----|-------------------|--------|
| A-01 | ユーザーとして、プロフィール情報を更新したい | 高 |
| A-02 | ユーザーとして、アカウントのセキュリティを強化したい | 高 |
| A-03 | ユーザーとして、通知の頻度をコントロールしたい | 中 |
| A-04 | ユーザーとして、自分の情報の公開範囲を設定したい | 中 |

---

### 6. サポート

#### 機能概要
ヘルプ、問い合わせ、FAQ、利用規約などへのアクセスを提供。

#### 主要機能
- **よくある質問（FAQ）**: カテゴリ別FAQ、キーワード検索
- **問い合わせフォーム**: カテゴリ選択、件名、本文、添付ファイル
- **問い合わせ履歴**: 過去の問い合わせ一覧とステータス
- **チャットサポート**: リアルタイムチャットへのリンク（営業時間内）
- **利用規約・プライバシーポリシー**: 各種規約へのリンク
- **アカウント削除**: 退会手続きへのリンク

#### ユーザーストーリー
| ID | ユーザーストーリー | 優先度 |
|----|-------------------|--------|
| S-01 | ユーザーとして、よくある質問から問題を解決したい | 高 |
| S-02 | ユーザーとして、問題が解決しない場合は運営に問い合わせたい | 高 |
| S-03 | ユーザーとして、過去の問い合わせ状況を確認したい | 中 |
| S-04 | ユーザーとして、利用規約を確認したい | 低 |

---

## 非機能要件

### パフォーマンス
- 初期読み込み時間: 3秒以内
- API応答時間: 500ms以内
- 画像の遅延読み込みを実装

### セキュリティ
- 認証: JWT + セッション管理
- HTTPS必須
- XSS/CSRF対策
- 個人情報の暗号化

### アクセシビリティ
- WCAG 2.1 AA準拠
- キーボードナビゲーション対応
- スクリーンリーダー対応

---

## 今後の拡張予定

1. **ソーシャル機能強化**: 友人招待、グループ作成
2. **AI推薦システム**: 機械学習ベースのビールレコメンデーション
3. **オフライン対応**: PWA化、オフラインでのノート作成
4. **多言語対応**: 英語、中国語、韓国語

---

*最終更新: 2026年1月*
