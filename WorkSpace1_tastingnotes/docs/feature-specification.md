# テイスティングノート機能 仕様書

## 1. 概要

購入者がビールのテイスティング（試飲）結果を記録し、それを個人の記録として蓄積できる機能。また、記録された評価の平均値を商品ページに「口コミ」として掲載することで、他のユーザーの購入を支援する。

## 2. プロジェクトの目的

- **購入者（ユーザー）体験の向上**: 自身の飲酒体験を記録・整理する楽しみを提供し、自分の好みを把握しやすくする。
- **コンテンツの充実と信頼性向上**: 実際の購入者による評価データ（荒らしや誹謗中傷のリスクが低い、数値評価）を商品ページに表示し、情報の信頼性を高める。
- **販売促進**: 平均評価を参考にすることで、新規顧客が「思っていた味と違う」というミスマッチを減らし、安心して購入できるように後押しする。
- **顧客エンゲージメントの強化**: サイトを単なる販売の場から、ビール体験を記録・共有できるコミュニティへと進化させ、リピート率を向上させる。

## 3. 主要機能

### 3.1. テイスティングノートの作成・保存

- **対象ユーザー**: `bier.jp`で商品を購入したユーザー。
- **入力項目**:
    - **評価項目（5段階評価など）**:
        - 味 (例: 甘口↔辛口)
        - 香り (例: 弱い↔強い)
        - 苦味 (例: 弱い↔強い)
        - コク
        - キレ
        - お気に入り度
    - **自由記述コメント**: 個人的な感想やメモ（このコメントは他のユーザーには公開しない想定）。
    - **写真**: 自身で撮影したビールの写真を複数枚アップロード可能。
- **入力方法**:
    - マイページ内の「購入履歴」から、該当商品の「テイスティングノートを書く」ボタンをタップして入力画面に遷移する。
    - 入力の手間を省くため、ビール名、ビアスタイル、原産国などの基本情報は商品マスタから自動で入力される。

### 3.2. MYテイスティングノート（閲覧・編集）

- **目的**: ユーザーが過去に記録したノートを一覧で確認・編集できるようにする。
- **場所**: マイページ内に「MYテイスティングノート」または「Myビール図鑑」セクションを設ける。
- **表示形式**:
    - 記録したノートを時系列やビール名でソート・フィルタリングできる。
    - 後述の「ビール図鑑」のようなコレクション形式での表示も検討。

### 3.3. 平均評価の算出と商品ページへの表示

- **目的**: 個々のテイスティングノートから収集した評価点数の平均を算出し、商品詳細ページに表示する。
- **計算方法**:
    - 各評価項目（味、香り、苦味など）ごとに平均値を計算する。
    - `(例) SELECT beer_id, AVG(taste_score) AS average_taste, ... FROM reviews GROUP BY beer_id;`
- **表示方法**:
    - レーダーチャートやスライダー形式で、その商品の味の傾向を視覚的に分かりやすく表示する。
    - 「このビールを飲んだX人の評価」のように、レビュー数も併記する。
- **特徴**: テキストによる自由なコメント欄を設けないことで、ネガティブな単語や不適切な書き込みによるブランドイメージの低下を防ぐ。

## 4. ユーザーにとってのメリット

- **購入者**: 自分の好みを記録・整理でき、次のビール選びの参考にできる。
- **サイト運営者**: 質の高い口コミが増え、商品改良のヒントが得られる。リピート購入の促進にも繋がる。
- **他の顧客**: 実際の購入者の評価を参考にでき、安心して新しいビールに挑戦できる。
