<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkSpace1: テイスティングノート機能</title>
    <link rel="stylesheet" href="../common_style.css">
    <script src="../workspace-nav.js"></script>

</head>
<body>
    <header>
        <h1>WorkSpace1: テイスティングノート機能</h1>
        <p>購入者がビールのテイスティング結果を記録し、その平均評価を商品ページに「口コミ」として掲載する機能の企画・設計資料です。</p>
    </header>

    <main>
        <div class="container">
            <h2>機能プレビュー</h2>
            <div class="preview-links">
                <p>Miroボードで検討されたUI/UXのモックアップです。リンクをクリックして各プレビューをポップアップで確認できます。</p>
                <ul>
                    <li><a href="#" onclick="openModal('preview/1_input_form.html', '1. テイスティングノート入力フォーム'); return false;">1. テイスティングノート入力フォーム</a></li>
                    <li><a href="#" onclick="openModal('preview/2_rating_sliders.html', '2. 評価スライダーUI'); return false;">2. 評価スライダーUI</a></li>
                    <li><a href="#" onclick="openModal('preview/3_collection_view.html', '3. Myビール図鑑（コレクション）'); return false;">3. Myビール図鑑（コレクション）</a></li>
                    <li><a href="#" onclick="openModal('preview/4_collection_popup.html', '4. ポップアップ詳細（レーダーチャート付き）'); return false;">4. ポップアップ詳細（レーダーチャート付き）</a></li>
                    <li><a href="#" onclick="openModal('preview/5_barcode_scanner.html', '5. バーコードスキャナー'); return false;">5. バーコードスキャナー</a></li>
                </ul>
            </div>

            <h2>設計ドキュメント</h2>
            <div class="file-block">
                <div class="file-header">docs/feature-specification.md</div>
                <div class="file-content">
                    <pre># テイスティングノート機能 仕様書...</pre>
                </div>
            </div>
            <div class="file-block">
                <div class="file-header">docs/technical-plan.md</div>
                <div class="file-content">
                    <pre># 技術的実装プラン...</pre>
                </div>
            </div>
            <div class="file-block">
                <div class="file-header">docs/ideas-and-brainstorming.md</div>
                <div class="file-content">
                    <pre># アイデアとブレインストーミング...</pre>
                </div>
            </div>

            <h2>Miro CSVデータ (Raw)</h2>
            <div class="file-block">
                <div class="file-header">【bier.jp】メイン - Work Space1_... .csv</div>
                <div class="file-content">
                    <pre>"Work Space1: 購入者が​テイスティングnoteを​かけるように​する..."</pre>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 bier.jp WorkSpaces</p>
    </footer>

    <!-- Modal Structure -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle"></div>
                <button class="modal-close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <iframe id="modal-iframe" src=""></iframe>
            </div>
        </div>
    </div>

    <script>
        const modalOverlay = document.getElementById('modalOverlay');
        const modalIframe = document.getElementById('modal-iframe');
        const modalTitle = document.getElementById('modalTitle');

        function openModal(url, title) {
            modalIframe.src = url;
            modalTitle.textContent = title;
            modalOverlay.classList.add('active');
        }

        function closeModal() {
            modalOverlay.classList.remove('active');
            // Clear iframe src after transition completes
            setTimeout(() => {
                modalIframe.src = '';
            }, 300);
        }

        // Close modal if overlay is clicked
        modalOverlay.addEventListener('click', function(event) {
            if (event.target === modalOverlay) {
                closeModal();
            }
        });

        // Close modal on ESC key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && modalOverlay.classList.contains('active')) {
                closeModal();
            }
        });
    </script>
</body>
</html>
